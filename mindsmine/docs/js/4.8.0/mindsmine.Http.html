<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Namespace: Http</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Namespace: Http</h1>

    




<section>

<header>
    
        <h2>
            <span class="ancestors"><a href="mindsmine.html">mindsmine</a>.</span>Http</h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        
            <div class="description"><p>This class enhances the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API">Fetch API</a> by rejecting on HTTP error status, even for an HTTP <code>404</code>
or <code>500</code>.</p>
<p>The <a href="https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API">Fetch API</a> provides an interface for fetching resources (<em>including across the network</em>).
It will seem familiar to anyone who has used <a href="https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest">XMLHttpRequest</a>, but the new API provides a more
powerful and flexible feature set.</p>
<p><u>Problem with Fetch API</u>: The <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a> returned from <code>fetch()</code> <strong>will not reject
on HTTP error status</strong> even if the response is an HTTP <code>404</code> or <code>500</code>. Instead, it will resolve normally
(with <code>ok</code> status set to <code>false</code>), and it will only reject on network failure or if anything prevented the
request from completing.</p></div>
        

        


<dl class="details">

    

    
    <dt class="tag-since">Since:</dt>
    <dd class="tag-since"><ul class="dummy"><li>4.7.0</li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


        
    
    </div>

    

    

    

    

    

    

    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    
    <h4 class="name" id=".poll"><span class="type-signature">(static) </span>poll<span class="signature">(fn, validateFn, interval<span class="signature-attributes">opt</span>, maxAttempts<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {Promise}</span></h4>
    

    



<div class="description">
    <p>Polling function inspired from
<a href="https://levelup.gitconnected.com/polling-in-javascript-ab2d6378705a">Polling in JavaScript</a> blog post.</p>
<p>The function is a higher-order function that returns a function, <code>executePoll</code>. The <code>executePoll</code>
function returns a promise and will run recursively until a stopping condition is met.</p>
<p><u>Example Usage</u>:</p>
<pre class="prettyprint source lang-javascript"><code>   mindsmine.Http.poll(
      () => {
         // Function to be polled
      },

      (result) => {
         // Function that validates the result of the above function
      }
   ).then((result) => {

      // Do something with the result

   }).catch((response) => {

      console.error(`HTTP error code = ${response.status}`);
      console.error(`HTTP error code = ${response.body.message}`);

   });
</code></pre>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>fn</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>The function to be polled.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>validateFn</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>The function that validates the result.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>interval</code></td>
            

            <td class="type">
            
                
<span class="param-type">Number</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    10000
                
                </td>
            

            <td class="description last"><p>The interval (in milliseconds) in between polling the function.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>maxAttempts</code></td>
            

            <td class="type">
            
                
<span class="param-type">Number</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    6
                
                </td>
            

            <td class="description last"><p>The maximum times the function should be polled.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    
    <dt class="tag-since">Since:</dt>
    <dd class="tag-since"><ul class="dummy"><li>4.8.0</li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













<h5>Throws:</h5>

        

<dl>
    <dt>
        <div class="param-desc">
        <p>If invalid arguments.</p>
        </div>
    </dt>
    <dd></dd>
    <dt>
        <dl>
            <dt>
                Type
            </dt>
            <dd>
                
<span class="param-type">TypeError</span>


            </dd>
        </dl>
    </dt>
    <dd></dd>
</dl>


    


<h5>Returns:</h5>

        
<div class="param-desc">
    <p>The promise that rejects to the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Response">Response</a> object with a body of
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error/Error">Error</a> object.</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id=".request"><span class="type-signature">(static) </span>request<span class="signature">(url, options<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {Promise}</span></h4>
    

    



<div class="description">
    <p>Sends an HTTP request to a remote server and returns a Promise object. This function enhances the global
<code><a href="https://developer.mozilla.org/en-US/docs/Web/API/fetch">fetch</a></code> function by rejecting on HTTP error status, even for an HTTP <code>404</code> or
<code>500</code>.</p>
<p>The promise resolves to the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Response">Response</a> object representing the response to the request.</p>
<p><u>Problem with <code>fetch</code> function</u>: A <code>fetch()</code> promise only rejects when a network error is encountered
(which is usually when there is a permissions issue or similar). A <code>fetch()</code> promise does <em>not</em> reject on HTTP
errors (<code>404</code>, etc.). Instead, a <code>then()</code> handler must check the
<code><a href="https://developer.mozilla.org/en-US/docs/Web/API/Response/ok">Response.ok</a></code> and/or
<code><a href="https://developer.mozilla.org/en-US/docs/Web/API/Response/status">Response.status</a></code> properties.</p>
<p><u>Example Usage</u>:</p>
<pre class="prettyprint source lang-javascript"><code>   mindsmine.Http.request(
      &quot;valid URI&quot;,
      {
         headers: {
            &quot;Accept&quot; : &quot;some value&quot;,
            &quot;Content-Type&quot; : &quot;some value&quot;,
            &quot;Authorization&quot; : &quot;some value&quot;
         }
      }

   ).then((response) => {

      console.log(`HTTP status code = ${response.status}`);

      response.json().then(data => {
         console.log(data);
      });

   }).catch((response) => {

      console.log(`HTTP error code = ${response.status}`);

   }).finally(() => {

      console.log(&quot;This function is called regardless of success or failure.&quot;);

   });
</code></pre>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>url</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>The URL to which to send the request.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>An object containing any custom settings to apply to the request. The possible options are:</p>
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>method</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    "GET"
                
                </td>
            

            <td class="description last"><p>The request method to use. Supported values: <code>GET</code>, <code>HEAD</code>,
<code>POST</code>, <code>PUT</code>, <code>PATCH</code>, <code>DELETE</code>.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>headers</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>Any headers to add to the request, contained within an object literal with
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">String</a> values. Note that <a href="https://developer.mozilla.org/en-US/docs/Glossary/Forbidden_header_name">some names are forbidden</a>.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>jsonData</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>JSON data to add to the request body. Note that a request using the <code>GET</code> or
<code>HEAD</code> method cannot have a body.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>mode</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>The mode to use for the request, e.g., <code>cors</code>, <code>no-cors</code>,
<code>same-origin</code>, <code>navigate</code>, etc.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>credentials</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    "same-origin"
                
                </td>
            

            <td class="description last"><p>Controls what browsers do with credentials
(<a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Cookies">cookies</a>, <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Authentication">HTTP authentication</a> entries, and TLS
client certificates). Must be one of the following strings: <code>omit</code>, <code>same-origin</code> or <code>include</code>.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>beforeRequest</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>The function to be called before a network request is made.</p></td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    
    <dt class="tag-since">Since:</dt>
    <dd class="tag-since"><ul class="dummy"><li>4.7.0</li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













<h5>Throws:</h5>

        

<dl>
    <dt>
        <div class="param-desc">
        <p>If invalid arguments.</p>
        </div>
    </dt>
    <dd></dd>
    <dt>
        <dl>
            <dt>
                Type
            </dt>
            <dd>
                
<span class="param-type">TypeError</span>


            </dd>
        </dl>
    </dt>
    <dd></dd>
</dl>


    


<h5>Returns:</h5>

        
<div class="param-desc">
    <p>The promise that resolves to the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Response">Response</a> object representing the response to
the request.</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>


    </dd>
</dl>

    





        
    

    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Namespaces</h3><ul><li><a href="mindsmine.html">mindsmine</a></li><li><a href="mindsmine.Ajax.html">mindsmine.Ajax</a></li><li><a href="mindsmine.Array.html">mindsmine.Array</a></li><li><a href="mindsmine.Boolean.html">mindsmine.Boolean</a></li><li><a href="mindsmine.Date.html">mindsmine.Date</a></li><li><a href="mindsmine.DOM.html">mindsmine.DOM</a></li><li><a href="mindsmine.Duration.html">mindsmine.Duration</a></li><li><a href="mindsmine.Function.html">mindsmine.Function</a></li><li><a href="mindsmine.Http.html">mindsmine.Http</a></li><li><a href="mindsmine.Number.html">mindsmine.Number</a></li><li><a href="mindsmine.NumeralSystem.html">mindsmine.NumeralSystem</a></li><li><a href="mindsmine.Object.html">mindsmine.Object</a></li><li><a href="mindsmine.String.html">mindsmine.String</a></li><li><a href="mindsmine.URL.html">mindsmine.URL</a></li><li><a href="mindsmine.Window.html">mindsmine.Window</a></li></ul><h3>Classes</h3><ul><li><a href="mindsmine.DurationHolder.html">mindsmine.DurationHolder</a></li></ul>
</nav>

<br class="clear">

<footer>
    Copyright &#169; 2008, 2022, <strong><a target='_blank' href='https://www.shaiksphere.com'>Shaiksphere Inc</a></strong>. All rights reserved.
    <br />
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.10</a>
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>